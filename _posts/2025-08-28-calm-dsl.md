---
layout: post
title:  "Calm DSL v4.2.0 cheat sheet"
date:  2025-08-28 16:26:27 -0700
updated: 2025-12-02 17:01:04 -0800
categories: calm, dsl, ncm
---
## Calm DSL cheat sheet

### Installing Calm DSL container

1. Pull container image
   * Select version from https://hub.docker.com/r/nutanix/calm-dsl/tags 
   * Then, run
        ```
        export VERSION="v4.2.0" # change to match required version that matches your environment
        docker pull nutanix/calm-dsl:$VERSION
        ```

    Note: Other installation options can be found [here](https://www.nutanix.dev/docs/self-service-dsl/setup/).

2. Start the container and attach to a local directory if desired
    ```
    export LOCAL_DIR="<local-dir>"
    docker run -v $LOCAL_DIR:/mnt/local -it nutanix/calm-dsl:$VERSION 
    ```

### Connecting to PC

From within the container, run

```
calm init dsl
```

You'll need the following handy:
* PC host IP/FQDN
* PC user
* PC password
* PC project

### List blueprints

```
calm get bps
```

### Decompile existing blueprint into DSL format
Optionally make a directory for the blueprint if your local directory has multiple blueprints. Run as-is, the decompile command will create a file called `blueprint.py` and two folders called `scripts` and `specs` in the working directory.
```
mkdir <blueprint-name>
```

Decompile the blueprint
```
calm decompile bp <blueprint-name> [-d /mnt/local/<blueprint-name>] [-w -ps xxxx]
```

Options Used:
* -d - local directory
* -w - with secrets
* -ps - passphrase

### Add blueprint in DSL format to existing NCM SS instance
```
calm create bp --file <blueprint-folder>/blueprint.py --name <blueprint-name> [-ps xxxx]
```